<!DOCTYPE html>
<html lang="en">

<head>
    <title>AliceO2 Bookkeeping</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Control interface of Alice O2">

    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="stylesheet" href="/css/src/bootstrap.css">
    <link rel="stylesheet" href="/app.css">

    <script src="/js/src/compatibility.js"></script>
</head>

<!-- ----------------------------------------------------------------------------------- -->
<!-- CodeMirror -->

<link rel="stylesheet" href="/assets/SmartEditor/codemirror/lib/codemirror.min.css">
<link rel="stylesheet" href="/assets/SmartEditor/codemirror/addon/fold/foldgutter.min.css">

<script src="/assets/SmartEditor/codemirror/lib/codemirror.min.js"></script>

<script src="/assets/SmartEditor/codemirror/addon/fold/foldcode.min.js"></script>
<script src="/assets/SmartEditor/codemirror/addon/fold/foldgutter.min.js"></script>
<script src="/assets/SmartEditor/codemirror/addon/fold/markdown-fold.min.js"></script>

<script src="/assets/SmartEditor/codemirror/addon/mode/overlay.min.js"></script>
<script src="/assets/SmartEditor/codemirror/mode/meta.min.js"></script>
<script src="/assets/SmartEditor/codemirror/mode/markdown/markdown.min.js"></script>

<script src="/assets/SmartEditor/codemirror/mode/xml/xml.min.js"></script>
<!-- for embedded HTML -->
<script src="/assets/SmartEditor/codemirror/mode/stex/stex.min.js"></script>
<!-- for Math TeX Formular -->
<script src="/assets/SmartEditor/codemirror/mode/yaml/yaml.min.js"></script>
<!-- for Front Matters -->

<script src="/assets/SmartEditor/codemirror/mode/javascript/javascript.min.js"></script>
<!-- load more for code blocks -->

<!-- ----------------------------------------------------------------------------------- -->
<!-- HyperMD -->

<link rel="stylesheet" href="/assets/SmartEditor/HyperMD/mode/hypermd.css">
<link rel="stylesheet" href="/assets/SmartEditor/HyperMD/theme/hypermd-light.css">

<script src="/assets/SmartEditor/HyperMD/index.js"></script>

<!-- ----------------------------------------------------------------------------------- -->
<!-- (optional) PowerPacks with 3rd-party libs (Load them before creating editor!) -->

<script src="/assets/SmartEditor/show-hint/show-hint.min.js"></script>
<link rel="stylesheet" href="/assets/SmartEditor/show-hint/show-hint.min.css">

<!-- marked and powerpack/hover-with-marked -->
<script src="/assets/SmartEditor/marked/lib/marked.min.js"></script>
<script src="/assets/SmartEditor/HyperMD/powerpack/hover-with-marked.js"></script>

<!-- Turndown and powerpack/paste-with-turndown -->
<script src="/assets/SmartEditor/turndown/turndown.min.js"></script>
<script src="/assets/SmartEditor/turndown-plugin-gfm/turndown-plugin-gfm.min.js"></script>
<script src="/assets/SmartEditor/HyperMD/powerpack/paste-with-turndown.js"></script>

<!-- Upload Images to https://sm.ms/  -->
<script src="/assets/SmartEditor/HyperMD/powerpack/insert-file-with-smms.js"></script>

<!-- Use EmojiOne to render emoji  -->
<script src="/assets/SmartEditor/emojione/index.js"></script>
<script src="/assets/SmartEditor/emojione/extras/js/complete-emoji.min.js"></script>
<link rel="stylesheet" href="/assets/SmartEditor/emojione/extras/css/emojione.min.css">
<script src="/assets/SmartEditor/HyperMD/powerpack/fold-emoji-with-emojione.js"></script>

<body>

    <!-- Load the session service, parses variables provided by server in the query -->
    <script type="module">
        import sessionService from '/js/src/sessionService.js';
        sessionService.loadAndHideParameters();

        // Expose sessionService to interact with it the browser's console
        window.sessionService = sessionService;
    </script>

    <!-- Main application controller -->
    <script type="module">
        // Import MVC
        import { mount } from '/js/src/index.js';
        import view from './view.js';
        import Model from './Model.js';

        // Start application
        const model = new Model(HyperMD, window, document, CompleteEmoji);
        const debug = true; // shows when redraw is done
        mount(document.body, view, model, debug);

        // Expose model to interact with it the browser's console
        window.model = model;
    </script>
</body>
