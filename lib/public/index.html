<!DOCTYPE html>
<html>

<head>
    <title>AliceO2 Logbook 2020</title>

    <meta charset="UTF-8">
    <meta name="description" content="Control interface of Alice O2">

    <link rel="stylesheet" href="/css/src/bootstrap.css">
    <link rel="stylesheet" href="/app.css">

    <script src="/js/src/compatibility.js"></script>
</head>

<body>

    <!-- Load the session service, parses variables provided by server in the query -->
    <script type="module">
        import sessionService from '/js/src/sessionService.js';
        sessionService.loadAndHideParameters();

        // Expose sessionService to interact with it the browser's console
        window.sessionService = sessionService;
    </script>

    <!-- Main application controller -->
    <script type="module">
        // Import MVC
        import { mount } from '/js/src/index.js';
        import view from './view.js';
        import Model from './Model.js';

        // Start application
        const model = new Model();
        const debug = true; // shows when redraw is done
        mount(document.body, view, model, debug);

        // Expose model to interact with it the browser's console
        window.model = model;
    </script>
</body>
