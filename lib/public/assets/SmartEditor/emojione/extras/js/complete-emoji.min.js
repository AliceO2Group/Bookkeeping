!function(e){"object"==typeof exports&&"object"==typeof module?e(exports,require("codemirror"),require("hypermd/addon/fold-emoji"),require("codemirror/addon/hint/show-hint"),require("codemirror/addon/hint/show-hint.css")):"function"==typeof define&&define.amd?define(["exports","codemirror","hypermd/addon/fold-emoji","codemirror/addon/hint/show-hint","codemirror/addon/hint/show-hint.css"],e):e(this.CompleteEmoji={},CodeMirror,HyperMD.FoldEmoji)}(function(e,o,t){e.createHintFunc=function(){var e=null,r=t.defaultDict,i=!1,n=document.createElement("div");return n.setAttribute("class","CodeMirror-hints HyperMD-complete-preview"),function(t,i){e=t;for(var n=t.getCursor(),c=t.getLine(n.line),m=n.ch,s=n.ch;m&&/[-\w:]/.test(c.charAt(m-1));)--m;for(;s<c.length&&/[-\w:]/.test(c.charAt(s));)++s;if(m===s)return d(),null;var h=c.slice(m,n.ch).toLowerCase(),a=0===h.length,f=[r],u=(e.getOption("hmdFoldEmoji")||{}).myEmoji;u&&f.push(u);for(var p={list:[],from:o.Pos(n.line,m),to:o.Pos(n.line,s)},y=p.list,v=0;v<f.length;v++){var j=f[v];if(j)for(var C in j)(a||C.slice(0,h.length)===h)&&y.push(C)}return o.on(p,"select",l),o.on(p,"close",d),p};function d(){i&&(document.body.removeChild(n),i=!1)}function l(o,l){var c=t.getAddon(e),m=o in c.myEmoji&&c.myEmoji[o](o)||c.emojiRenderer(o)||document.createTextNode(r[o])||null;if(m){i||(i=!0,document.body.appendChild(n));var s=n.firstChild;s&&n.removeChild(s),n.appendChild(m);var h=l.parentElement.style,a=n.style;a.left=Number.parseFloat(h.left)+l.parentElement.offsetWidth+"px",a.top=h.top}else d()}}});
